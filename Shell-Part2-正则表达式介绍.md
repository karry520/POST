---
title: Shell-Part2-正则表达式介绍
tags: Shell
date: 2018-02-01 09:59:04
---
随着对UNIX和LINUX熟悉程度的不断加深，需要经常接触到正则表达式这个领域。使用shell时，从一个文件中抽取多于一个字符串将会很麻烦。例如，在一个文本中抽取一个词，它的头两个字符是大写的，后面紧跟四个数字。如果不使用某种正则表达式，在shell中将不能实现这个操作。
- ### 使用句点匹配单字符

---
句点“.”可以匹配任意单字符。
~~~
$ls | grep ha.d
~~~
- ### 在行首以^匹配字符串或字符序列

---
^只允许在一行的开始匹配字符或单词。
~~~
$ls | grep ^h
~~~
- ### 在行尾以$匹配字符串或字符

---
可以说$与^正相反，它在行尾匹配字符串或字符，$符号放在匹配单词后。
~~~
#匹配以xt结尾的文件
$ls | grep xt$
#匹配空行
^$
~~~
- ### 使用\*匹配字符串中的单字符或其重复序列

---
使用此特殊字符匹配任意字符或字符串的重复多次表达式。
~~~
$ls | grep *
~~~
- ### 使用\屏蔽一个特殊字符的含义

---
有时需要查找一些字符或字符串，而它们包含了系统指定为特殊字符的一个字符。
~~~
$ . ' " * | [ ] ^ | ( ) \ + ?
~~~
- ### 使用[]匹配一个范围或集合

---
使用[]匹配特定字符串或字符串集，可以用逗号将括弧内要匹配的不同字符串分开，但并不强制要求这样做（一些系统提倡在复杂的表达式中使用逗号），这样做可以增加模式的可读性。
~~~
#匹配任意字母数字
[A-Za-z0-9]
#匹配不匹配括号里的内容
[^0-9]
~~~
- ### 使用\{\}匹配模式结果出现的次数

---
使用*可匹配所有匹配结果任意次，但如果只要指定次数，就应使用\{\}，此模式有三种形式，即：pattern\{n\}匹配模式出现n次。pattern\{n,\}   匹配模式出现最少n次。pattern\{n,m}   匹配模式出现n到m次之间，n,m为0-255中任意整数。
~~~
$ ls | grep 1\\{3\\}
~~~
- ### 经常使用的正则表达式举例

---
~~~
^               对行首
$               对行尾
^[the]          对以the开头行
[Ss]igna[lL]    对匹配单词signal、signaL、Signal、SignaL
[Ss]igna[lL]\.  对同上，但加一句点
[mayMAY]        对包含may大写或小写字母的行
^USER$          对只包含USER的行
[tty]$          对以tty结尾的行
\.              对带句点的行
^d..x..x..x     对用户、用户组及其他用户组成员有可执行权限的目录
^[^l]           对排除关联目录的目录列表
[.*0]           对0之前或之后加任意字符
[000*]          对000或更多个
[iI]            对大写或小写I
[iI][nN]        对大写或小写i或n
[^$]            对空行
[^.*$]          对匹配行中任意字符串
^......$        对包括6个字符的行
[a-zA-Z]        对任意单字符
[a-z][a-z] *    对至少一个小写字母
[^0-9\$]        对非数字或美元标识
[^0-0A-Za-z]    对非数字或字母
[123]           对1到3中一个数字
[Dd]evice       对单词device或Device
De..ce          对前两个字母为De，后跟两个任意字符，最后为ce
\^q             对以^q开始行
^.$             对仅有一个字符的行
^\.[0-9][0-9]   对以一个句点和两个数字开始的行
'"Device"'      对单词device
De[Vv]ice\.     对单词Device或device
[0-9]\{2\}-[0-9]\{2\}-[0-9]\{4\}                对日期格式dd-mm-yyyy
[0-9]\{3\}\.[0-9]\{3\}\.[0-9]\{3\}\.[0-9]\{3\}  对IP地址格式nnn. nnn.nnn.nnn
[^.*$]          对匹配任意行
~~~

