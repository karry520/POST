---
title: Shell-Part2-grep家族
tags: Shell
date: 2018-02-01 09:59:16
---
相信grep是UNIX和LINUX中使用最广泛的命令之一。grep（全局正则表达式版本）允许对文本文件进行模式查找。如果找到匹配模式，grep打印包含模式的所有行。grep支持基本正则表达式，也支持其扩展集。grep有三种变形，即：

    grep    ：  标准grep命令
    egrep   ：  扩展grep，支持基本及扩展的正则表达式
    fgrep   ：  快速grep。允许查找字符串而不是一个模式

- ### grep 

---
grep一般格式为：
~~~
grep[选项]基本正则表达式[文件]
~~~
这里基本正则表达式可为字符串。
~~~
#常用的grep选项有：
    -c  只输出匹配行的计数
    -i  不区分大小写(只适用于单字符)
    -h  查询多文件时不显示文件名
    -l  查询多文件时只输出包含匹配字符的文件名
    -n  显示匹配行及行号
    -s  不显示不存在或无匹配文本的错误信息
    -v  显示不包含匹配文本的所有行  
~~~
~~~
#在当前目录下所有.txt文件中查找字符串".txt"
$grep -c ".txt" *.txt
~~~

- ### grep和正则表达式

---
使用正则表达式使模式匹配加入一些规则，因此可以在抽取信息中加入更多选择。使用正则表达式时最好用单引号括起来，这样可以防止grep中使用的专有模式与一些shell命令的特殊方式相混淆。
~~~
#匹配484/483
$grep '48[34]' data.f
~~~
- ### 类名

---
grep允许使用国际字符模式匹配或匹配模式的类名形式。
~~~
[[:upper:]]     [A-Z]
[[:lower:]]     [a-z]
[[:digit:]]     [0-9]
[[:allnum:]]    [0-9a-zA-Z]  
[[:space:]]     空格或tab键
[[:alpha:]]     [a-zA-Z]
~~~
- ### 系统grep命令

---
使用已学过的知识可以很容易通过grep命令获得系统信息。
~~~
$ls -l | grep '^d'
~~~


- ###　egrep 

---
egrep代表expression或extended grep，适情况而定。egrep接受所有的正则表达式，egrep的一个显著特性是可以以一个文件作为保存的字符串，然后将之传给egrep作为参数，为此使用-f开关。
~~~
$ who | egrep -v 'karry'
~~~
