---
title: Shell-Part2-sed用法介绍
tags: Shell
date: 2018-02-01 09:59:36
---
sed是一个非交互性文本流编辑器。它编辑文件或标准输入导出的文本拷贝。
- ### sed怎样读取数据

---
sed从文件的一个文本行或从标准输入的几种格式中读取数据，将之拷贝到一个编辑缓冲区，然后读命令行或脚本的第一条命令，并使用这些命令查找模式或定位行号编辑它。重复此过程直到命令结束。
~~~

~~~
- ### 调用sed

---
调用sed有三种方式：在命令行键入命令；将sed命令插入脚本文件，然后调用sed；将sed命令插入脚本文件，并使sed脚本可执行。
~~~
#使用sed命令行格式为
sed [选项]  sed命令  输入文件
#使用sed脚本文件
sed [选项]  -f  sed脚本文件 输入文件
~~~
- ### sed和正则表达式

---
sed识别任何基本正则表达式和模式及其行匹配规则。
~~~

~~~
- ### 基本sed编程举例

---
通过例子实际检验一下sed的编辑功能。
~~~

~~~
- ### 使用替换修改字符串

---
如果要附加或修改一个字符串，可以使用（&）命令，&命令保存发现模式以便重新调用它，然后把它放在替换字符串里面。
~~~

~~~
- ### 将sed结果写入文件命令

---
像使用>文件重定向发送输出到一个文件一样，在sed命令中也可以将结果输入文件。
~~~

~~~
- ### 从文本中读文本

---
处理文件时，sed允许从另一个文件中读文本，并将其文本附加在当前文件。此命令放在模式匹配行后，格式为：
~~~
address r filename
~~~
~~~

~~~
- ### 匹配后退出

---
有时需要在模式匹配首次出现后退出sed，以便执行其他处理脚本。
~~~

~~~
- ### 显示文件中的控制字符

---
当从其他系统下载文件时，有时要删除整个文件的控制字符（非打印字符）
~~~

~~~
- ### 使用系统sed

---
在脚本或命令行中使用sed真正要做的是修改或删除文件或字符串中文本。
~~~

~~~
- ### 快速一行命令

---
下面是一些一行命令集。（[]表示空格，[]表示tab键）
~~~
‘s/\.$//g’          删除以句点结尾行
‘-e /abcd/d’        删除包含abcd的行
‘s/[][][]*/[]/g’    删除一个以上空格，用一个空格代替
‘s/^[][]*//g’       删除行首空格
‘s/\.[][]*/[]/g’    删除句点后跟两个或更多空格，代之以一个空格
‘/^$/d’             删除空行
‘s/^.//g’           删除第一个字符
‘s/COL\(...\)//g’   删除紧跟COL的后三个字母
‘s/^\///g’          从路径中删除第一个\‘s/[]/[]//g’删除所有空格并用tab键替代
‘S/^[]//g’          删除行首所有tab键
‘s/[]*//g’          删除所有tab键
~~~
