---
title: Shell-Part1-命令执行顺序
tags: Shell
date: 2018-02-01 09:58:42
---
在执行某个命令的时候，有时需要依赖于前一个命令是否执行成功。例如，假设你希望将一个目录中的文件全部拷贝到另外一个目录中后，然后删除源目录中的全部文件。在删除之前，你希望能够确信拷贝成功，否则就有可能丢失所有的文件。
- ### 使用&&

---
使用&&的一般形式为：
~~~
命令1 && 命令2
~~~
这种命令执行方式相当地直接。&&左边的命令（命令1）返回真(即返回0，成功被执行）后，&&右边的命令（命令2）才能够被执行；换句话说，“如果这个命令执行成功&&那么执行这个命令”。
~~~
#文件quarter_end.txt首先被排序并输出到文件quarter.sorted中.只有这一命令执行成功之后。文件quarter.sorted才会被打印出来
$sort quarter_end.txt > quarter.sorted && cat quarter.sorted
~~~
- ### 使用||

---
使用||的一般形式为：
~~~
命令1 || 命令2
$cp wopper.txt oops.txt || echo "if you are seeing this cp failed"
~~~
||的作用有一些不同。如果||左边的命令（命令1）未执行成功，那么就执行||右边的命令（命令2）；或者换句话说，“如果这个命令执行失败了|| 那么就执行这个命令”
- ### 用()和{}将命令结合在一起

---
如果希望把几个命令合在一起执行，shell提供了两种方法。既可以在当前shell也可以在子shell中执行一组命令。
~~~
$(命令１；命令２；...)
${命令１；命令２；...}
~~~
